let L=1e5;const E=[{value:"theme-blue-p",name:"Blue"},{value:"theme-white-p",name:"White"},{value:"theme-sand-s",name:"Sand"},{value:"theme-flow-25",name:"Flow 25"},{value:"theme-wave-ac",name:"Wave"},{value:"theme-wave-50",name:"Wave 50"},{value:"theme-pearl-s",name:"Pearl"},{value:"theme-pebble-s",name:"Pebble"}],f=()=>"pl-state-id-"+L++,g=(t,l)=>{if(!t.options)return"";const a=t.options,c=f(),e=t.multiple?"Select many...":a.find(d=>l.contains(d.value))?.name??"---",i=t.multiple?"checkbox":"radio";let u="";return a.forEach(d=>{const n=l.contains(d.value)?"checked":"",o=f();u+=`<input name="${c}" class="pl-state-bar__input" type="${i}" id="${o}" data-name="${d.name}" value="${d.value}" ${n}/><label class="pl-state-bar__label" for="${o}"><span>${d.name}</span></label>`}),`<div class="pl-state-bar__group"><div>${t.name}:</div><div class="pl-state-bar__group-header">${e}</div><div class="pl-state-bar__checkbox-group">${u}</div></div>`},_=()=>{[...document.querySelectorAll(".pl-state__button")].forEach(l=>l.classList.remove("active"))},h=t=>{t.classList.remove("expand"),document.body.classList.remove("pl-state-expand"),_(),window.dispatchEvent(new Event("resize"))},S=(t,l,a)=>{_();const c=document.querySelector(".pl-state-bar");if(!c)return;if(l.classList.contains("active")){h(c);return}const e=c.querySelector(".pl-state-bar__content");if(e){let i="",u=0;a.states.forEach(n=>{const o=n.name==="Theme"&&!n.options?{...n,options:E}:n;i+=g(o,t.classList),u++,u==1&&(i+=y())}),e.innerHTML=i;const p=e.querySelector(".pl-state-bar__close-button");p&&p.addEventListener("click",()=>h(c)),[...e.querySelectorAll(".pl-state-bar__group")].forEach(n=>{const o=n.querySelector(".pl-state-bar__group-header"),r=n.querySelector(".pl-state-bar__checkbox-group");if(!o||!r)return;o&&(o.addEventListener("click",()=>{r.classList.toggle("expand")}),document.addEventListener("click",s=>{if(!s.target)return;const m=s.target;!r.contains(m)&&!o.contains(m)&&r.classList.remove("expand")}));const b=n.querySelectorAll("input[type='checkbox']");[].forEach.call(b,s=>{s.addEventListener("change",()=>{s.value&&(s.checked?t.classList.add(s.value):t.classList.remove(s.value),window.dispatchEvent(new Event("resize")))})});const v=n.querySelectorAll("input[type='radio']");[].forEach.call(v,s=>{s.addEventListener("change",()=>{[].forEach.call(v,m=>{m.value&&t.classList.remove(m.value)}),s.value&&t.classList.add(s.value),o.textContent=s.getAttribute("data-name"),r.classList.remove("expand")})}),[...n.querySelectorAll("input[type='radio'] + label")].forEach(s=>{s.addEventListener("click",()=>{r.classList.remove("expand")})})}),c.classList.add("expand"),l.classList.add("active"),document.body.classList.add("pl-state-expand"),window.dispatchEvent(new Event("resize"))}},y=()=>'<div class="pl-state-bar__buttons"><a class="pl-state-bar__close-button"></a></div>',w=t=>{const l=`<div class="pl-state-bar"><div class="pl-state-bar__content"></div>${y()}</div>`;document.body.insertAdjacentHTML("beforeend",l);const a=document.querySelector(".pl-state-bar");if(!a)return;const c=a.querySelector(".pl-state-bar__close-button");c&&c.addEventListener("click",()=>h(a)),[].forEach.call(t,e=>{if(!e||!e.selector)return;const i=e.button?.styleModifier??"",u=e.name?`title="Show state modifier for: ${e.name}"`:"",p=e.button?.zIndex?`style="z-index: ${e.button.zIndex};"`:"",d=document.querySelectorAll(e.selector);[].forEach.call(d,n=>{const o=`<div class="pl-state ${i}" ${p}><div class="pl-state__controls"><button class="pl-state__button" ${u}><img src="/pl-states.svg" loading="async"></button></div></div>`,r=e.button?.parentSelector?n.querySelector(e.button.parentSelector):n;if(!r)return;r.insertAdjacentHTML("beforeend",o);const b=r.querySelector(":scope > .pl-state");if(!b)return;const v=b.querySelector(".pl-state__button");v&&v.addEventListener("click",()=>{S(n,v,e)})})}),addEventListener("resize",function(){const e=document.querySelector(".pl-state-bar");if(!e)return;const i=e.getBoundingClientRect();document.documentElement.style.setProperty("--pl-state-bar-height",Math.ceil(i.height)+"px")})},B=()=>{localStorage.getItem("pl-show-state-selector")&&fetch("/pl-states.json").then(a=>a.json()).then(a=>w(a))};B();
//# sourceMappingURL=pl-states.js.map
